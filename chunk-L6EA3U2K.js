import{b as F,c as N,d as k,e as B,f as D,g as W,h as z,i as T}from"./chunk-ZTENPSUE.js";import{e as V}from"./chunk-RCI2JGGT.js";import{h as O,q as S,s as E,t as L}from"./chunk-GETBKSLM.js";import{$ as u,Ab as P,Da as l,Kb as y,Pb as r,Qb as w,Sb as p,Ta as h,Tb as m,Ub as f,W as d,aa as g,fb as x,gb as C,kb as _,lb as e,mb as t,ub as M,yb as v}from"./chunk-JW4IHBVT.js";function q(c,i){if(c&1&&(e(0,"p",8),r(1),t()),c&2){let o=P();l(),w(o.error)}}var A=class c{auth=d(V);router=d(E);route=d(S);email="";password="";error="";submit(){this.error="",this.auth.login(this.email,this.password).subscribe({next:i=>{if(!i){this.error="Login failed.";return}let o=this.route.snapshot.queryParamMap.get("returnUrl")??"/";this.router.navigateByUrl(o)},error:i=>{this.error="\u767B\u5165\u5931\u6557\uFF0C\u8ACB\u6AA2\u67E5\u5E33\u865F\u6216\u5BC6\u78BC",console.error(i)}})}static \u0275fac=function(o){return new(o||c)};static \u0275cmp=h({type:c,selectors:[["app-login"]],decls:23,vars:4,consts:[["f","ngForm"],[1,"auth-page"],[1,"auth-card"],[1,"auth-subtitle"],[3,"ngSubmit"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],[1,"auth-error"],[1,"auth-footer"],["routerLink","/auth/register"]],template:function(o,n){if(o&1){let s=M();e(0,"div",1)(1,"div",2)(2,"h1"),r(3,"Login"),t(),e(4,"p",3),r(5,"Welcome back \u{1F44B}"),t(),e(6,"form",4,0),v("ngSubmit",function(){return u(s),g(n.submit())}),e(8,"label"),r(9,"Email"),t(),e(10,"input",5),f("ngModelChange",function(a){return u(s),m(n.email,a)||(n.email=a),g(a)}),t(),e(11,"small"),r(12,"\u82E5\u8981\u64C1\u6709\u5168\u90E8\u6B0A\u9650\uFF0C\u8ACB\u7528ailsa@gmail.com\uFF0C\u5BC6\u78BCailsa1031"),t(),e(13,"label"),r(14,"Password"),t(),e(15,"input",6),f("ngModelChange",function(a){return u(s),m(n.password,a)||(n.password=a),g(a)}),t(),e(16,"button",7),r(17,"Login"),t(),x(18,q,2,1,"p",8),t(),e(19,"p",9),r(20," No account? "),e(21,"a",10),r(22,"Create one"),t()()()()}if(o&2){let s=y(7);l(10),p("ngModel",n.email),l(5),p("ngModel",n.password),l(),_("disabled",s.invalid),l(2),C(n.error?18:-1)}},dependencies:[O,T,W,F,N,k,z,D,B,L],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary: #4f46e5;--color-primary-soft: #eef2ff;--color-on-primary: #ffffff;--color-text-primary: #111827;--color-text-secondary: #374151;--color-text-subtle: #9ca3af;--color-bg-page: #f3f4f6;--color-bg-surface: #ffffff;--color-bg-sidebar: #ffffff;--color-bg-header: #ffffff;--color-bg-input: #f9fafb;--color-bg-hover: #f3f4ff;--color-border-subtle: #e5e7eb;--color-danger: #ef4444;--color-success: #22c55e;--color-warning: #f59e0b;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 18px;--radius-full: 999px;--space-xs: 4px;--space-sm: 8px;--space-md: 12px;--space-lg: 16px;--space-xl: 24px;--space-2xl: 32px;--shadow-sm: 0 1px 2px rgba(15, 23, 42, .05);--shadow-md: 0 10px 25px rgba(15, 23, 42, .08)}.my-app-dark[_ngcontent-%COMP%]{--color-bg-page: #020617;--color-bg-surface: #020617;--color-bg-sidebar: #020617;--color-bg-header: #020617;--color-bg-input: #020617;--color-text-primary: #e5e7eb;--color-text-secondary: #d1d5db;--color-text-subtle: #6b7280;--color-border-subtle: #1f2937;--color-bg-hover: #111827}.auth-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg-page)}.auth-card[_ngcontent-%COMP%]{width:360px;padding:var(--space-xl);border-radius:var(--radius-xl);background:var(--color-bg-surface);box-shadow:var(--shadow-md);box-sizing:border-box}.auth-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 var(--space-xs)}.auth-card[_ngcontent-%COMP%]   .auth-subtitle[_ngcontent-%COMP%]{margin-bottom:var(--space-lg);color:var(--color-text-subtle)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:var(--color-text-secondary)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 10px;border-radius:var(--radius-md);border:1px solid var(--color-border-subtle);font-size:14px;background:var(--color-bg-input)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:var(--space-md);padding:10px;border-radius:var(--radius-md);border:none;cursor:pointer;font-size:14px;font-weight:600;background:var(--color-primary);color:var(--color-on-primary)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:default}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .auth-error[_ngcontent-%COMP%]{margin-top:var(--space-xs);color:var(--color-danger);font-size:13px}.auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]{margin-top:var(--space-md);font-size:13px}.auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}']})};export{A as Login};
