<div class="layout-root">
  <aside class="layout-sidebar" [class.is-open]="!collapsed()" [style.width]="sidebarWidth()">
    <!-- ⭐ [class.is-open]="!collapsed()" 手機時用來控制滑出 -->
    <!-- [style.width]="sidebarWidth()" 桌機仍然用寬度控制 -->
    <app-sidebar [collapsed]="collapsed()" (toggle)="toggleSidebar()"> </app-sidebar>
  </aside>

  <div class="layout-main">
    <header class="layout-topbar">
      <app-topbar (toggleSidebar1)="toggleSidebar()"></app-topbar>
    </header>

    <main class="layout-content">
      <!-- ⭐ 這裡顯示 Breadcrumb -->
      <app-breadcrumb></app-breadcrumb>

      <!-- ⭐ 改成：把 shellContext 丟給所有 routed components -->
      <!-- 所有現在顯示在 <router-outlet> 內的頁面，都可以透過 ROUTER_OUTLET_DATA 拿到這個 context -->
      <router-outlet [routerOutletData]="shellContext()"></router-outlet>
    </main>
  </div>

  <!-- ✅ 全站共用 Copilot Chat（浮動按鈕 + Dialog） -->
  <app-copilot-chat></app-copilot-chat>
</div>
