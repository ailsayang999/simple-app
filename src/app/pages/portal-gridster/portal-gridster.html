<div class="portal-layout">
  <div class="portal-bg-accent"></div>

  <header class="portal-header">
    <div class="welcome-msg">
    <span class="date">{{ formattedDate }}</span>
      <h1>核心監控入口 <span>Global Operations Portal</span></h1>
    </div>
  </header>

  <gridster [options]="options()" class="bento-grid-container">
    @for (item of dashboard(); track item.type) {
    <gridster-item [item]="item">
      @switch (item.type) { @case ('flight') {
      <div class="bento-item flight-item full-size">
        <div class="radar-container">
          <div class="radar-sweep"></div>
          <div class="radar-point p1"></div>
          <div class="radar-point p2"></div>
        </div>
        <div class="bento-content">
          <div class="category">Aviation</div>
          <h3>飛航管制系統</h3>
          <span class="flight-count">12 架次監控中</span>
        </div>
      </div>
      } @case ('cert') {
      <div class="bento-item cert-item full-size">
        <div class="bento-icon-sm"><i class="pi pi-shield"></i></div>
        <div class="bento-content">
          <h3>CERT 應變系統</h3>
          <p-tag severity="danger" value="High Threat" [rounded]="true"></p-tag>
        </div>
        <div class="emergency-pulse"></div>
      </div>
      } @case ('repair') {
      <div class="bento-item repair-hero full-size">
        <div class="bento-content">
          <div class="category">Maintenance</div>
          <h2>資訊設備報修</h2>
          <p>目前工單狀態良好</p>
        </div>
        <div class="bento-icon"><i class="pi pi-wrench"></i></div>
      </div>
      } @case ('edu') {
      <div class="bento-item edu-item full-size">
        <div class="bento-icon-sm"><i class="pi pi-graduation-cap"></i></div>
        <div class="bento-content">
          <h3>教務行政系統</h3>
          <span class="link-text"> 進入管理後台 <i class="pi pi-external-link"></i> </span>
        </div>
      </div>
      } @case ('permission') {
      <div class="bento-item permission-item full-size">
        <div class="gear-abstract"><i class="pi pi-cog gear-large"></i></div>
        <div class="bento-content">
          <div class="category">System Control</div>
          <h3>權限設定</h3>
          <div class="access-info">
            <span class="active-users">24 位管理員在線</span>
          </div>
        </div>
      </div>
      } }
    </gridster-item>
    }
  </gridster>
</div>
