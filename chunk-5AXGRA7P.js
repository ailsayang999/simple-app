import{b as V,c as W,d as N,e as T,f as k,g as L,h as z,i as I}from"./chunk-ZTENPSUE.js";import{e as R}from"./chunk-RCI2JGGT.js";import{d as v,h as O,s as S,t as E}from"./chunk-GETBKSLM.js";import{$ as l,Ab as w,Da as i,Pb as n,Qb as y,Rb as P,Sb as m,Ta as _,Tb as p,Ub as u,W as h,Za as M,aa as d,kb as b,lb as t,mb as o,ub as C,yb as x}from"./chunk-JW4IHBVT.js";function F(g,a){if(g&1&&(t(0,"p",13),n(1),o()),g&2){let s=w();i(),y(s.error)}}var q=class g{auth=h(R);router=h(S);name="";email="";password="";confirmPassword="";error="";loading=!1;submit(){if(this.error="",!this.name.trim()){this.error="\u8ACB\u8F38\u5165\u540D\u7A31";return}if(!this.email.trim()){this.error="\u8ACB\u8F38\u5165 Email";return}if(!this.password.trim()){this.error="\u8ACB\u8F38\u5165\u5BC6\u78BC";return}if(this.password!==this.confirmPassword){this.error="\u5BC6\u78BC\u8207\u78BA\u8A8D\u5BC6\u78BC\u4E0D\u4E00\u81F4";return}this.loading=!0,this.auth.register(this.name,this.email,this.password).subscribe({next:a=>{if(this.loading=!1,!a){this.error="\u8A3B\u518A\u5931\u6557\uFF0C\u8ACB\u7A0D\u5F8C\u518D\u8A66\u3002";return}this.router.navigate(["/"])},error:a=>{this.loading=!1,this.error="\u8A3B\u518A\u5931\u6557\uFF0C\u8ACB\u6AA2\u67E5\u6B04\u4F4D\u6216\u7A0D\u5F8C\u518D\u8A66\u3002",console.error(a)}})}static \u0275fac=function(s){return new(s||g)};static \u0275cmp=_({type:g,selectors:[["app-register"]],decls:27,vars:7,consts:[["f","ngForm"],[1,"auth-page"],[1,"auth-card"],[1,"auth-subtitle"],[3,"ngSubmit"],["type","text","name","name","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","password","name","confirmPassword","required","",3,"ngModelChange","ngModel"],["type","submit",3,"disabled"],["class","auth-error",4,"ngIf"],[1,"auth-footer"],["routerLink","/auth/login"],[1,"auth-error"]],template:function(s,e){if(s&1){let c=C();t(0,"div",1)(1,"div",2)(2,"h1"),n(3,"Register"),o(),t(4,"p",3),n(5,"Create your account \u2728"),o(),t(6,"form",4,0),x("ngSubmit",function(){return l(c),d(e.submit())}),t(8,"label"),n(9,"Name"),o(),t(10,"input",5),u("ngModelChange",function(r){return l(c),p(e.name,r)||(e.name=r),d(r)}),o(),t(11,"label"),n(12,"Email"),o(),t(13,"input",6),u("ngModelChange",function(r){return l(c),p(e.email,r)||(e.email=r),d(r)}),o(),t(14,"label"),n(15,"Password"),o(),t(16,"input",7),u("ngModelChange",function(r){return l(c),p(e.password,r)||(e.password=r),d(r)}),o(),t(17,"label"),n(18,"Confirm Password"),o(),t(19,"input",8),u("ngModelChange",function(r){return l(c),p(e.confirmPassword,r)||(e.confirmPassword=r),d(r)}),o(),t(20,"button",9),n(21),o(),M(22,F,2,1,"p",10),o(),t(23,"p",11),n(24," Already have an account? "),t(25,"a",12),n(26,"Login instead"),o()()()()}s&2&&(i(10),m("ngModel",e.name),i(3),m("ngModel",e.email),i(3),m("ngModel",e.password),i(3),m("ngModel",e.confirmPassword),i(),b("disabled",e.loading),i(),P(" ",e.loading?"Registering...":"Register"," "),i(),b("ngIf",e.error))},dependencies:[O,v,I,L,V,W,N,z,k,T,E],styles:['@charset "UTF-8";[_ngcontent-%COMP%]:root{--color-primary: #4f46e5;--color-primary-soft: #eef2ff;--color-on-primary: #ffffff;--color-text-primary: #111827;--color-text-secondary: #374151;--color-text-subtle: #9ca3af;--color-bg-page: #f3f4f6;--color-bg-surface: #ffffff;--color-bg-sidebar: #ffffff;--color-bg-header: #ffffff;--color-bg-input: #f9fafb;--color-bg-hover: #f3f4ff;--color-border-subtle: #e5e7eb;--color-danger: #ef4444;--color-success: #22c55e;--color-warning: #f59e0b;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 12px;--radius-xl: 18px;--radius-full: 999px;--space-xs: 4px;--space-sm: 8px;--space-md: 12px;--space-lg: 16px;--space-xl: 24px;--space-2xl: 32px;--shadow-sm: 0 1px 2px rgba(15, 23, 42, .05);--shadow-md: 0 10px 25px rgba(15, 23, 42, .08)}.my-app-dark[_ngcontent-%COMP%]{--color-bg-page: #020617;--color-bg-surface: #020617;--color-bg-sidebar: #020617;--color-bg-header: #020617;--color-bg-input: #020617;--color-text-primary: #e5e7eb;--color-text-secondary: #d1d5db;--color-text-subtle: #6b7280;--color-border-subtle: #1f2937;--color-bg-hover: #111827}.auth-page[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:var(--color-bg-page)}.auth-card[_ngcontent-%COMP%]{width:360px;padding:var(--space-xl);border-radius:var(--radius-xl);background:var(--color-bg-surface);box-shadow:var(--shadow-md);box-sizing:border-box}.auth-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 var(--space-xs)}.auth-card[_ngcontent-%COMP%]   .auth-subtitle[_ngcontent-%COMP%]{margin-bottom:var(--space-lg);color:var(--color-text-subtle)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:var(--space-sm)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;color:var(--color-text-secondary)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:8px 10px;border-radius:var(--radius-md);border:1px solid var(--color-border-subtle);font-size:14px;background:var(--color-bg-input)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:var(--space-md);padding:10px;border-radius:var(--radius-md);border:none;cursor:pointer;font-size:14px;font-weight:600;background:var(--color-primary);color:var(--color-on-primary)}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:default}.auth-card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .auth-error[_ngcontent-%COMP%]{margin-top:var(--space-xs);color:var(--color-danger);font-size:13px}.auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]{margin-top:var(--space-md);font-size:13px}.auth-card[_ngcontent-%COMP%]   .auth-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--color-primary);font-weight:600}']})};export{q as Register};
